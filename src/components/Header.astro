---
import Icon from "./Icon.astro";
---

<header id="main-header" class="fixed top-0 w-full z-50 transition-all duration-300">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex items-center justify-between h-16">
      
      <!-- Logo -->
      <a href="/" class="flex items-center gap-2 sm:gap-3 font-bold hover:scale-105 transition-transform text-lg sm:text-xl lg:text-2xl">
        <span class="text-green-400">&lt;</span>
        <span class="text-white">Turin</span>
        <div class="w-2.5 h-2.5 sm:w-3 sm:h-3 bg-green-400 rounded-full animate-pulse"></div>
        <span class="text-green-400">Dev</span>
        <span class="text-green-400">/&gt;</span>
      </a>

      <!-- Navegación Desktop -->
      <nav class="hidden md:flex items-center space-x-8">
        <a href="#servicios" class="text-white hover:text-green-400 transition-colors">Servicios</a>
        <a href="#portafolio" class="text-white hover:text-green-400 transition-colors">Trabajos</a>
        <a href="#habilidades" class="text-white hover:text-green-400 transition-colors">Habilidades</a>
        <a href="#testimonios" class="text-white hover:text-green-400 transition-colors">Testimonios</a>
        <a href="#contacto" class="text-white hover:text-green-400 transition-colors">Contacto</a>
      </nav>

      <!-- CTA Button -->
      
      <a
        href="#contacto"
        class="group relative cursor-pointer flex items-center justify-center text-white gap-1.5 sm:gap-2 px-3 sm:px-4 lg:px-5 py-1.5 sm:py-2 bg-gradient-to-r from-green-600 via-emerald-600 to-gray-800 rounded-full transition-all duration-500 ease-out hover:scale-110 hover:shadow-[0_0_30px_rgba(34,197,94,0.7),0_0_60px_rgba(34,197,94,0.4)] shadow-[0_0_15px_rgba(34,197,94,0.5)] before:absolute before:inset-0 before:rounded-full before:bg-gradient-to-r before:from-white/10 before:to-transparent before:opacity-0 hover:before:opacity-100 before:transition-opacity before:duration-300 overflow-hidden"
      >
        <div
          class="z-10 relative rounded-full flex-shrink-0 bg-white/20 backdrop-blur-sm border border-white/30 flex items-center justify-center w-6 h-6 sm:w-7 sm:h-7 transition-all duration-500 group-hover:rotate-12 group-hover:bg-white/30 group-hover:scale-110"
        >
        <Icon name="mail" size="16" />
        </div>
        <span class="font-semibold text-xs sm:text-sm tracking-wide drop-shadow-sm"
          >¡Contáctame!</span
        >
      </a>


      <!-- Mobile Menu Button -->
      <button 
        id="mobile-menu-btn" 
        class="md:hidden p-2 text-white hover:text-green-400 transition-colors hamburger-btn"
        aria-label="Abrir menú"
      >
        <div class="hamburger-icon">
          <span class="hamburger-line"></span>
          <span class="hamburger-line"></span>
          <span class="hamburger-line"></span>
        </div>
      </button>
    </div>
  </div>

  <!-- Mobile Menu -->
  <div id="mobile-menu" class="md:hidden fixed left-0 right-0 top-16 z-40 transform translate-y-0 transition-all duration-300 ease-out opacity-0 invisible bg-gradient-to-b from-black/95 via-black/90 to-black/85 backdrop-blur-xl border-t border-green-400/20 shadow-2xl shadow-green-400/10 drop-shadow-2xl" style="box-shadow: 0 25px 50px -12px rgba(16, 185, 129, 0.25), 0 0 0 1px rgba(16, 185, 129, 0.05), inset 0 1px 0 rgba(255, 255, 255, 0.1);">
    <div class="px-6 py-8 space-y-6 max-h-[calc(100vh-4rem)] overflow-y-auto">
      <nav class="space-y-4">
        <a href="#servicios" class="group flex items-center py-3 px-4 text-white/90 hover:text-green-400 hover:bg-white/5 rounded-xl transition-all duration-300 transform hover:translate-x-2 hover:scale-105">
          <span class="text-lg font-medium">Servicios</span>
          <div class="ml-auto w-0 group-hover:w-2 h-2 bg-green-400 rounded-full transition-all duration-300"></div>
        </a>
        <a href="#portafolio" class="group flex items-center py-3 px-4 text-white/90 hover:text-green-400 hover:bg-white/5 rounded-xl transition-all duration-300 transform hover:translate-x-2 hover:scale-105">
          <span class="text-lg font-medium">Trabajos</span>
          <div class="ml-auto w-0 group-hover:w-2 h-2 bg-green-400 rounded-full transition-all duration-300"></div>
        </a>
        <a href="#habilidades" class="group flex items-center py-3 px-4 text-white/90 hover:text-green-400 hover:bg-white/5 rounded-xl transition-all duration-300 transform hover:translate-x-2 hover:scale-105">
          <span class="text-lg font-medium">Habilidades</span>
          <div class="ml-auto w-0 group-hover:w-2 h-2 bg-green-400 rounded-full transition-all duration-300"></div>
        </a>
        <a href="#testimonios" class="group flex items-center py-3 px-4 text-white/90 hover:text-green-400 hover:bg-white/5 rounded-xl transition-all duration-300 transform hover:translate-x-2 hover:scale-105">
          <span class="text-lg font-medium">Testimonios</span>
          <div class="ml-auto w-0 group-hover:w-2 h-2 bg-green-400 rounded-full transition-all duration-300"></div>
        </a>
        <a href="#contacto" class="group flex items-center py-3 px-4 text-white/90 hover:text-green-400 hover:bg-white/5 rounded-xl transition-all duration-300 transform hover:translate-x-2 hover:scale-105">
          <span class="text-lg font-medium">Contacto</span>
          <div class="ml-auto w-0 group-hover:w-2 h-2 bg-green-400 rounded-full transition-all duration-300"></div>
        </a>
      </nav>
      
      <div class="pt-4 border-t border-white/10">
        <a 
          href="#contacto" 
          class="group relative flex items-center justify-center gap-3 px-6 py-4 bg-gradient-to-r from-green-600 via-emerald-600 to-green-700 text-white rounded-2xl transition-all duration-300 transform hover:scale-105 hover:shadow-lg hover:shadow-green-400/25 overflow-hidden"
        >
          <div class="absolute inset-0 bg-gradient-to-r from-white/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
          <Icon name="mail" size="18" />
          <span class="font-semibold text-lg relative z-10">¡Contáctame!</span>
        </a>
      </div>
    </div>
  </div>
</header>

<!-- Spacer -->
<div class="h-16"></div>

<style>
  /* Header transparente por defecto */
  #main-header {
    background: transparent;
    backdrop-filter: none;
    border-bottom: none;
  }
  
  /* Header con blur al hacer scroll */
  #main-header.scrolled {
    background: rgba(0, 0, 0, 0.2);
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
  }

  /* Hamburger Animation */
  .hamburger-icon {
    width: 28px;
    height: 28px;
    position: relative;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
  }

  .hamburger-line {
    width: 24px;
    height: 3px;
    background-color: #10b981;
    border-radius: 1px;
    transition: transform 0.25s ease, opacity 0.25s ease;
    position: absolute;
    left: 50%;
    transform-origin: center;
    margin-left: -12px;
  }

  .hamburger-line:nth-child(1) {
    top: 7px;
  }

  .hamburger-line:nth-child(2) {
    top: 13px;
  }

  .hamburger-line:nth-child(3) {
    top: 19px;
  }

  /* X animation - simple and fast */
  .hamburger-btn.active .hamburger-line:nth-child(1) {
    transform: translateY(6px) rotate(45deg);
  }

  .hamburger-btn.active .hamburger-line:nth-child(2) {
    opacity: 0;
  }

  .hamburger-btn.active .hamburger-line:nth-child(3) {
    transform: translateY(-6px) rotate(-45deg);
  }
</style>


